<html 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui">
	
    <h:head> 
		 <f:event listener="#{loginsessionseguridad.validarSession}" type="preRenderView" /> 
    	<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />

        <style type="text/css">
            .ui-datatable {
                margin-bottom: 25px
            }

            .ui-datatable .ui-datatable-header {
                text-align: right !important;
            }

            }
        </style>
    </h:head>

    <h:body style="margin: 0px;">

			<h:form>
			<p:menubar>
        
            	<f:facet name="options">
                	<p:commandButton value="ConfiguraciÃ³n" icon="pi pi-cog" actionListener="#{loginsessionseguridad.redireccionarUsuario}" />
                	<p:commandButton value="Logout" icon="pi pi-home" actionListener="#{loginsessionseguridad.logout}" />
            	</f:facet>
           
        	</p:menubar>
			</h:form>
			
		
            <p:tabMenu activeIndex="0">
            <p:menuitem icon="pi pi-star" value="Listar Fenomeno" outcome="listarFenomeno">
                <f:param name="i" value="0" />
            </p:menuitem>
            
            <p:menuitem icon="pi pi-cloud" value="Crear Fenomeno" outcome="crearFenomeno">
                <f:param name="i" value="1" />
            </p:menuitem>
            
            <p:menuitem icon="pi pi-bell" value="Listar Caracteristicas" outcome="listarCaracteristicas">
                <f:param name="i" value="2" />
            </p:menuitem>
            
            <p:menuitem icon="pi pi-globe" value="Crear Caracteristica" outcome="crearCaracteristica">
                <f:param name="i" value="3" />
            </p:menuitem>
            
             
            <p:menuitem icon="pi pi-globe" value="Listar Observaciones" outcome="listarValidarObservacion">
                <f:param name="i" value="4" />
            </p:menuitem>
            
        </p:tabMenu>
		
		  <br/>

        <div style="padding: 5px; width: 97%; margin: 0 auto;" >
        
        
        
          <h:form>
                <p:dataTable
                	
                    id="data"
                    var="item"
                    value="#{listarfenomenos.listaFenomenos}"
                    rowKey="#{item.codigo}"
                    widgetVar="fenomenoTable"
                    emptyMessage="No hay fenomenos disponibles"
                    paginator="true"
                    rows="15"
                    filteredValue="#{listarfenomenos.filteredFenomeno}"
                    globalFilterFunction="#{listarfenomenos.globalFilterFunction}"
                >
                    <f:facet name="header">
                        <p:outputPanel>
                        	
                            <h:outputText value="Buscar fenomenos: " />
                            <p:inputText id="globalFilter" onkeyup="PF('fenomenoTable').filter()" style="width: 150px;" placeholder="Buscar..." />
                        </p:outputPanel>
                        
                    </f:facet>
                  

                 <p:column headerText="Codigo">
                    <h:outputText value="#{item.codigo}" />
                </p:column>

                <p:column headerText="Nombre">
                    <h:outputText value="#{item.nombre}" />
                </p:column>

                <p:column headerText="Descripcion">
                    <h:outputText value="#{item.descripcion}" />
                </p:column>

                <p:column headerText="Telefono de Emergencia">
                    <h:outputText value="#{item.telefono}" />
                </p:column>

                          <p:column headerText="Acciones" style="text-align: center;">
                
                    <p:spacer width="10" />
                    <p:button icon="pi pi-pencil" value="Editar" outcome="actualizarFenomeno">
                        <f:param name="nombre" value="#{item.nombre}" />
                    </p:button>
                </p:column>
                </p:dataTable>
            </h:form>
       
        </div>
    </h:body>
</html>
