<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui" > 

<h:head>
 <f:event listener="#{loginsessionseguridad.validarSession}" type="preRenderView" /> 
 <f:event listener="#{actualizarusuario.initConversation}" type="preRenderView" /> 
 <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
</h:head> 
	
	
	   <h:body style="margin: 0px;">
       
       <h:form>
       		<p:menubar>
            	<f:facet name="options">
            		<p:commandButton value="ConfiguraciÃ³n" icon="pi pi-cog" actionListener="#{loginsessionseguridad.redireccionarUsuario}" />
                	<p:commandButton value="Logout" icon="pi pi-home" actionListener="#{loginsessionseguridad.logout}" />
            	</f:facet>
        	</p:menubar>
        	</h:form>
		
        <p:tabMenu activeIndex="0">
            <p:menuitem icon="pi pi-star" value="Inicio" outcome="listarUsuario">
                <f:param name="i" value="0" />
            </p:menuitem>
            <p:menuitem icon="pi pi-user" value="Crear Usuario" outcome="crearUsuario">
                <f:param name="i" value="1" />
            </p:menuitem>
        </p:tabMenu>
	<br/>
	
<h:form>
<div style="padding: 5px; width: 98%; margin: 0 auto;">
    <p:panel id="panel" header="Busqueda por correo">
        
        <h:panelGrid columns="3" cellpadding="5">
            <p:outputLabel for="email_buscar" value="Email:" />
            <p:inputText id="email_buscar" value="#{actualizarusuario.emailBusqueda}" required="true" label="Firstname">
                <f:validateBean />
            </p:inputText>
            <p:message for="email_buscar"  />
        </h:panelGrid>
        <p:commandButton value="Buscar" update="panel" action="#{actualizarusuario.busquedaPorCorreo}" icon="pi pi-check" />
    </p:panel>
   </div> 
</h:form>
			
	<br/>
	
        
        	<h:form>
            <div style="padding: 5px; width: 98%; margin: 0 auto;">
            
            	
            	<p:panel id="basic" header="Formulario" footer="Chaja" style="margin: 0 auto">
            
           		 <p:growl id="messages" showDetail="true"/>	
            	
            	  <p:messages />
            	  
            	  <div style="padding: 10px;">
                    <p:outputLabel value="ID" style="font-weight: bold;" />
                    <p:inputText id="id_usuario" required="true" value="#{actualizarusuario.id_usuario}"  style="width: 100%;" readonly= "#{facesContext.renderResponse}" />
                    <p:message for="@previous" />
                </div>
            	
            	
                <div style="padding: 10px;">
                    <p:outputLabel value="Nombre: " style="font-weight: bold;" />
                    <p:inputText id="nombre" value="#{actualizarusuario.nombre}"  style="width: 100%;" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Apellido: " style="font-weight: bold;" />
                    <p:inputText value="#{actualizarusuario.apellido}"  style="width: 100%;" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Domicilio: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;" value="#{actualizarusuario.direccion}" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Email: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;"  value="#{actualizarusuario.email}" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Username: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;"  value="#{actualizarusuario.userName}" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Password: " style="font-weight: bold;" />
                    <p:password style="width: 100%;"  value="#{actualizarusuario.password}" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Rol: " style="font-weight: bold;" />
                    <p:selectOneMenu style="width: 100%;"  value="#{actualizarusuario.rolUsuairo}">
                    	<f:selectItem itemLabel="#{actualizarusuario.rolUsuairo}" />
                        <f:selectItems value="#{actualizarusuario.tuEnum}" />
                    </p:selectOneMenu>
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Tipo de documento: " style="font-weight: bold;" />
                    <p:selectOneMenu style="width: 100%;"  value="#{actualizarusuario.documentoCategoria}">
                        <f:selectItem itemLabel="#{actualizarusuario.documentoCategoria}" />
                        <f:selectItems value="#{actualizarusuario.dcEnum}" />
                    </p:selectOneMenu>
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;" class="text-center">
                    <p:outputLabel value="Documento: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;"  value="#{actualizarusuario.documento}" />
                    <p:message for="@previous" />
                </div>
                
                  <div style="padding: 10px;">
                    <p:outputLabel value="Estado: " style="font-weight: bold;" />
                    <p:selectOneMenu style="width: 100%;"  value="#{actualizarusuario.estadoUsuario}">
                    	<f:selectItem itemLabel="#{actualizarusuario.estadoUsuario}" />
                        <f:selectItems value="#{actualizarusuario.euEnum}" />
                    </p:selectOneMenu>
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:commandButton value="Actualizar"  update="messages" ajax="false" validateClient="true" action="#{actualizarusuario.actulizarUsuario}" style="width: 100%;" />
                    <p:spacer width="10" />
                    <p:button value="Cancelar" style="width: 100%;" href="/JSFPF/pages/listarUsuario.xhtml" />
                </div>
            
            
            </p:panel>
            </div>
                       
           </h:form> 
  
    </h:body>

</html>
