<html

	xmlns="http://www.w3.org/1999/xhtml" 	
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui">
	
	<h:head>  
	<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
		<f:metadata> 
    		<f:event listener="#{crearusuarioldap.initConversation}" type="preRenderView" /> 
		</f:metadata>
	</h:head>



    <h:body style="margin: 0px;">
       
       
       		    <p:panel header="Bienvenido usuario del grupo fides-net" toggleable="false" closable="false" toggleSpeed="500"
                closeSpeed="500" widgetVar="panel">


        <p class="p-m-0">
            Hemos identificado que usted es un usuario del dominio @fides.net y se esta autentificando por 
            LDAP, le damos la bienvenida al sistema de gestión ambiental FIDES-AIR, para proseguir 
            con el alta  en la aplicación necesitamos que llene el formulario con los datos solicitados, 
            de forma tal que cuando vuelva a loguearse no deba repetir este proceso. Si desea algún 
            cambio de rol dentro del sistema comuníquese con su administrador del dominio. Muchas gracias, 
            quedamos a su disposición.
        </p>

        <f:facet name="options">
            <p:menu>
                <p:submenu label="Settings">
                    <p:menuitem value="Toggle" url="#" icon="pi pi-clone" onclick="PF('panel').toggle()"/>
                    <p:menuitem value="Remove" url="#" icon="pi pi-times" onclick="PF('panel').close()"/>
                </p:submenu>
            </p:menu>
        </f:facet>
    </p:panel>
     
        	<h:form>
            <div style="padding: 5px; width: 98%; margin: 0 auto;">
            
           		 <p:growl id="messages" showDetail="true"/>	
           		 <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true" />
            	
            	  <p:messages />
            	<br/>
            	<p:panel id="toggleable" header="Informacion Personal" toggleable="true"  toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px">
 				
        			<p:ajax event="close" listener="#{panelView.onClose}" update="msgs" />
        			<p:ajax event="toggle" listener="#{panelView.onToggle}" update="msgs" />
            	
                <div style="padding: 10px;">
                    <p:outputLabel value="Nombre: " style="font-weight: bold;" />
                    <p:inputText id="nombre" value="#{crearusuarioldap.nombre}"  style="width: 100%;" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Apellido: " style="font-weight: bold;" />
                    <p:inputText value="#{crearusuarioldap.apellido}"  style="width: 100%;" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Domicilio: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;" value="#{crearusuarioldap.direccion}" />
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;">
                    <p:outputLabel value="Email: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;"  value="#{crearusuarioldap.email}" />
                    <p:message for="@previous" />
                </div>
				
			
                <div style="padding: 10px;">
                    <p:outputLabel value="Username: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;"  value="#{crearusuarioldap.userName}" />
                    <p:message for="@previous" />
                </div>

              
                <div style="padding: 10px;">
                    <p:outputLabel value="Tipo de documento: " style="font-weight: bold;" />
                    <p:selectOneMenu style="width: 100%;"  value="#{crearusuarioldap.documentoCategoria}">
                        <f:selectItems value="#{crearusuarioldap.dcEnum}" />
                    </p:selectOneMenu>
                    <p:message for="@previous" />
                </div>

                <div style="padding: 10px;" class="text-center">
                    <p:outputLabel value="Documento: " style="font-weight: bold;" />
                    <p:inputText style="width: 100%;"  value="#{crearusuarioldap.documento}" />
                    <p:message for="@previous" />
                </div>
                
                  
				</p:panel>
				
                <div style="padding: 10px;">
                    <p:commandButton value="Registrar Usuario"  update="messages" ajax="false" validateClient="true" action="#{crearusuarioldap.crearUsuarioLDAP}" style="width: 100%;" />
                    <p:spacer width="10" />
                    <p:button value="Cancelar" style="width: 100%;" />
                </div>
            
          
            
            </div>
           </h:form> 
   
    </h:body>
</html>